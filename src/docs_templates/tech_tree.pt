<tal:main_template define="main_template load: main_template.pt" metal:use-macro="main_template">
<div metal:fill-slot='body'>

    <div class="row">
        <div class="span12">
            <tal:base_track_type repeat="base_track_type doc_helper.get_base_track_types()">
                <h3>${base_track_type[1]}</h3>
                <table style="width:100%;" class="table-striped">
                    <tr tal:repeat="role doc_helper.engine_roles(base_track_type)"
                        style="border-top: solid 1px #ddd;">
                        <th>
                            ${role}
                        </th>
                        <td tal:repeat="gen range(6)" class="text-center">
                            <tal:consist define="consist doc_helper.get_engine_by_role_and_base_track_type_and_generation(role, base_track_type, gen + 1)">
                                <tal:block condition="consist is not None">
                                    <div class="tech_tree_vehicle_container">
                                        <div class="tech_tree_vehicle ${'tech_tree_vehicle_arrow' if doc_helper.get_engine_by_role_and_base_track_type_and_generation(role, base_track_type, gen + 2) is not None else None}">
                                            <span style="display:block;">
                                                ${doc_helper.unpack_name_string(consist).split('(')[0]}
                                            </span>
                                            <span style="display:block;">
                                                ${'(' + doc_helper.unpack_name_string(consist).split('(')[1]}
                                            </span>
                                            <img src="static/img/${consist.id}_blue.png"
                                                 width="${2 * doc_helper.buy_menu_sprite_width(consist)}"
                                                 height="${2 * doc_helper.buy_menu_sprite_height}" />
                                            <span style="display:block">
                                                <small>${consist.power}hp</small>
                                            </span>
                                            <span style="display:block">
                                                <small>${consist.speed}mph</small>
                                            </span>
                                        </div>
                                    </div>
                                </tal:block>
                            </tal:consist>
                        </td>
                    </tr>
                </table>
            </tal:base_track_type>
        </div>
    </div>

</div>
</tal:main_template>
